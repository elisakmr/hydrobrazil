---
title: "mapping hydrobasin selection"
output: html_document
---

## Directories

```{r }

if ((Sys.info()["nodename"]) == "COP026") {
  dir_data <- "C:/Users/arvor_d/Documents/workwork/data"
  dir_plot <- "C:/Users/arvor_d/Documents/workwork/plot"
} else if ((Sys.info()["nodename"]) == "COSTELSV6") {
  dir_data <- "F:/kamir_e/$data"
  dir_plot <- "F:/kamir_e/$plots"
}

```

## Library

```{r }

library(plyr)
library(tidyverse)
library(tidyr)
library(dplyr)
library(ggplot2)
library(ggmap)
library(sf)
library(patchwork)


```

## PARAMETERS 

Create a shapefile of randomly selected hydrobasin 
On which vulnerability has been computed

```{r }

hydrobasin <- st_read(file.path(dir_data, "hydroshed","hydrobasins_level9", "hydrobasin_mg_lev9.shp"))
load(file = file.path(dir_data, "vulnerability", "1000randomid.RData"))

hydrobasin_1000 <- hydrobasin %>% filter(HYBAS_ID %in% basin_id)          
           
st_write(hydrobasin_1000, file.path(dir_data, "vulnerability",paste0("hydrobasin1000.shp")), delete_layer = TRUE)

```