---
title: "Plot vulnerability features"
output: html_document
---

## Directories

```{r }

if ((Sys.info()["nodename"]) == "COP026") {
  dir_data <- "C:/Users/arvor_d/Documents/workwork/data"
  dir_plot <- "C:/Users/arvor_d/Documents/workwork/plot"
} else if ((Sys.info()["nodename"]) == "COSTELSV6") {
  dir_data <- "F:/kamir_e/$data"
  dir_plot <- "F:/kamir_e/$plot "
}

```

## Library

```{r }

library(plyr)
library(tidyverse)
library(tidyr)
library(dplyr)
library(foreach)
library(iterators)
library(lwgeom)
library(parallel)
library(doParallel)
library(maps)
library(nnet)
library(ggplot2)
library(latticeExtra)
library(sp)
library(rgdal)
library(raster)
library(stringi)
library(ggmap)
library(sf)
library(stars)
library(terra)

```

## BUILDING DATA FRAME  

```{r }

x <- 'soy'
y='foret'
df_plot <- data.frame(ncols=3) 
colnames(df_plot) <- c("polyid","x","y")
year <- 2010
basin_id<-c(6090572470,6090588890,6090629780,6090612720,6090601850,6090535530,6090547860,6090601850,6090566330,6090613000,6090595300,6090510180,6090531830,6090527450,6090524660,6090499970,6090502220,6090484790,6090536080,6090509600,6090529510,6090525490,6090552830,6090550430,6090560950,6090483660,6090543710,6090558840,6090553570,6090567110)

vuln_shp <- list()
for (id in basin_id[1:5]){
  i=which(basin_id[1:5]==id)
  vuln_shp[[i]] <- st_read(file.path(dir_data, "vulnerability",paste0(year,"_vulnerability_", id, ".shp")))
}









```




